"use strict";(self.webpackChunkzeuz_docs=self.webpackChunkzeuz_docs||[]).push([[8608],{1136:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"zeuz-node/actions/actions-database","title":"Database Actions","description":"- Drivers: pyodbc(ODBC)","source":"@site/docs/zeuz-node/actions/actions-database.md","sourceDirName":"zeuz-node/actions","slug":"/zeuz-node/actions/actions-database","permalink":"/docs/zeuz-node/actions/actions-database","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"actions-database","title":"Database Actions"},"sidebar":"docsSidebar","previous":{"title":"Wait for an Element to Disappear","permalink":"/docs/zeuz-node/actions/Web/wait-for-an-element-to-disappear"},"next":{"title":"Mobile Actions","permalink":"/docs/zeuz-node/actions/actions-mobile"}}');var o=n(74848),a=n(28453),s=n(28774);const r={id:"actions-database",title:"Database Actions"},d=void 0,c={},l=[{value:"Examples of Database actions",id:"examples-of-database-actions",level:2},{value:"1. Connect to DB",id:"1-connect-to-db",level:3},{value:"2. Delete from db",id:"2-delete-from-db",level:3},{value:"3. Insert into db",id:"3-insert-into-db",level:3},{value:"4. Run Insert Update or Delete Query",id:"4-run-insert-update-or-delete-query",level:3},{value:"5. Run Select Query",id:"5-run-select-query",level:3},{value:"6. Select from db",id:"6-select-from-db",level:3},{value:"7. Update into db",id:"7-update-into-db",level:3},{value:"8. Connect to Mongodb",id:"8-connect-to-mongodb",level:3},{value:"9. Delete many into Mongodb",id:"9-delete-many-into-mongodb",level:3},{value:"10. Delete one into Mongodb",id:"10-delete-one-into-mongodb",level:3},{value:"11. Find from Mongodb",id:"11-find-from-mongodb",level:3},{value:"12. Find one from Mongodb",id:"12-find-one-from-mongodb",level:3},{value:"13. Insert many into Mongodb",id:"13-insert-many-into-mongodb",level:3},{value:"14. Insert one into Mongodb",id:"14-insert-one-into-mongodb",level:3},{value:"15. Update many into Mongodb",id:"15-update-many-into-mongodb",level:3},{value:"16. Update one into Mongodb",id:"16-update-one-into-mongodb",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Drivers"}),": pyodbc(ODBC)"]}),"\n"]})}),"\n",(0,o.jsxs)(t.p,{children:["These actions help you automate database systems easily and combine them with other categories of actions like ",(0,o.jsx)(s.A,{to:"actions-rest-api",children:"REST/API"})," to validate data. You can compare and test between different database systems across multiple remote locations."]}),"\n",(0,o.jsx)(t.h2,{id:"examples-of-database-actions",children:"Examples of Database actions"}),"\n",(0,o.jsx)(t.h3,{id:"1-connect-to-db",children:"1. Connect to DB"}),"\n",(0,o.jsxs)(t.p,{children:["Defining a connection to a database is a preparatory step in systems like ",(0,o.jsx)(t.strong,{children:"Lorust"})," that sets up the necessary configuration for subsequent database operations. This action does not establish an immediate connection to the database but instead stores essential connection details, such as the database type, host, port, username, password, and database name. These details are referenced later to simplify and streamline database interactions, avoiding the need to redefine the connection repeatedly. The actual connection to the database occurs only when a specific operation, such as querying or updating data, is performed, reducing unnecessary overhead during initialization. By seperating the configuration step from the connection itself, this approach ensures efficient resource usage and supports flexibility in managing database interactions."]}),"\n",(0,o.jsx)(t.h3,{id:"2-delete-from-db",children:"2. Delete from db"}),"\n",(0,o.jsxs)(t.p,{children:["Performing an arbitrary delete query involves executing a custom SQL ",(0,o.jsx)(t.code,{children:"DELETE"})," operation to remove records from a database based on specific criteria and storing the result, typically the number of rows affected, in a variable. This stored result can be used for validation, logging, or subsequent operations. For example, a query like ",(0,o.jsx)(t.code,{children:"DELETE FROM users WHERE status = 'inactive'"})," might delete 10 rows, with the result captured in a variable for further use. This approach is useful for dynamic scenarios where deletion criteria are determined at runtime."]}),"\n",(0,o.jsx)(t.h3,{id:"3-insert-into-db",children:"3. Insert into db"}),"\n",(0,o.jsxs)(t.p,{children:["Performing an insert query to store values in a table and capturing its result in a variable involves executing an SQL ",(0,o.jsx)(t.code,{children:"INSERT"})," operation to add new records to a database table and storing the outcome, such as the number of rows inserted or an auto-generated identifier. The user specifies an ",(0,o.jsx)(t.code,{children:"INSERT"})," query, like `INSERT INTO users (name, email) VALUES ('John Doe', '",(0,o.jsx)(t.a,{href:"mailto:john@example.com",children:"john@example.com"}),"'), which is executed against the database to add the specified values. The result of this operation is stored in a variable for further use, such as confirming the success of the insertion, referencing the inserted record, or triggering additional actions. This approach ensures the insertion process is efficient and its outcome is readily available for validation or subsequent logic."]}),"\n",(0,o.jsx)(t.h3,{id:"4-run-insert-update-or-delete-query",children:"4. Run Insert Update or Delete Query"}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.strong,{children:"insert, update, and delete query action"}),' "non-query" operations on a database, such as ',(0,o.jsx)(t.code,{children:"INSERT"}),", ",(0,o.jsx)(t.code,{children:"UPDATE"}),", and ",(0,o.jsx)(t.code,{children:"DELETE"}),", which modify the database state without returning rows of data. Instead, they provide a result indicating the number of rows affected, which can be stored in a variable for validation or further processing. For example, an ",(0,o.jsx)(t.code,{children:"INSERT"})," query might return ",(0,o.jsx)(t.code,{children:"1"})," to confirm one row was added, an ",(0,o.jsx)(t.code,{children:"UPDATE"})," query might return ",(0,o.jsx)(t.code,{children:"3"})," if three rows were modified, and a ",(0,o.jsx)(t.code,{children:"DELETE"})," query might return ",(0,o.jsx)(t.code,{children:"0"})," if no rows matched the condition. This return value is particularly useful for verifying the success of the operation, such as ensuring data was properly inserted, updated, or deleted. For instance, a ",(0,o.jsx)(t.code,{children:"DELETE"})," query that returns ",(0,o.jsx)(t.code,{children:"1"})," or more confirms successful removal of records. In a framework like ",(0,o.jsx)(t.strong,{children:"Lorust"}),", this type of query enables efficient validation of database changes without retrieving additional data."]}),"\n",(0,o.jsx)(t.h3,{id:"5-run-select-query",children:"5. Run Select Query"}),"\n",(0,o.jsxs)(t.p,{children:["Performing an arbitrary ",(0,o.jsx)(t.code,{children:"SELECT"})," query retrieves data from a database based on specified conditions and stores the result in a variable for further use. The query defines the table, columns, and filters, such as ",(0,o.jsx)(t.code,{children:"SELECT * FROM users WHERE status = 'active'"})," Upon execution, the application fetches the matching data, which can include multiple rows or specific results, and stores it in a variable for processing, validation, or display. This approach is essential for dynamically accessing and utilizing database records in real-time operations."]}),"\n",(0,o.jsx)(t.h3,{id:"6-select-from-db",children:"6. Select from db"}),"\n",(0,o.jsxs)(t.p,{children:["Performing an arbitrary ",(0,o.jsx)(t.code,{children:"SELECT"})," query and storing its result in a variable involves executing a user-defined SQL ",(0,o.jsx)(t.code,{children:"SELECT"})," statement to retrieve data from a database and capturing the returned data for subsequent use. This action allows the application to fetch specific records or data subsets based on the provided query conditions."]}),"\n",(0,o.jsxs)(t.p,{children:["The query typically specifies the table, columns, and any filtering criteria, such as ",(0,o.jsx)(t.code,{children:"SELECT name, email FROM users WHERE status = 'active'"}),". Upon execution, the database returns the requested data, which is then stored in a variable. This variable holds the result, whether it is a single row, multiple rows, or aggregated values, and makes it accessible for further operations like data validation, display, or additional computations. This method is especially useful in dynamic scenarios where the query conditions or returned data depend on runtime requirements."]}),"\n",(0,o.jsx)(t.h3,{id:"7-update-into-db",children:"7. Update into db"}),"\n",(0,o.jsxs)(t.p,{children:["Performing an arbitrary ",(0,o.jsx)(t.code,{children:"UPDATE"})," query and storing its result in a variable involves executing a user-defined SQL ",(0,o.jsx)(t.code,{children:"UPDATE"})," statement to modify records in a database and capturing the outcome for validation or further use. This action updates specific fields in a table based on the conditions provided in the query."]}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"UPDATE"})," query defines the target table, the fields to be updated, and any conditions to limit the scope, such as ",(0,o.jsx)(t.code,{children:"UPDATE users SET status = 'inactive' WHERE last_login < '2023-01-01'"}),". Upon execution, the database processes the query and returns the number of rows affected, which is stored in a variable. This result can be used to confirm the success of the operation, log changes, or trigger additional logic. For example, if the query affects 5 rows, the variable stores this value, enabling validation that the intended updates occurred. This approach ensures precise and efficient modifications to database records."]}),"\n",(0,o.jsx)(t.h3,{id:"8-connect-to-mongodb",children:"8. Connect to Mongodb"}),"\n",(0,o.jsxs)(t.p,{children:["Connecting to MongoDB establishes a connection between an application and a MongoDB server, allowing the application to perform various database operations such as reading, writing, updating, and deleting data. This connection is initiated using a connection string, which includes details like the server address, database name, and optional authentication credentials, for example, ",(0,o.jsx)(t.code,{children:"mongodb://username:password@localhost:27017//database_name"}),". A MongoDB client or driver is used to initialize the connection, which then establishes communication with the database server. Once connected, the application obtains a session or client instance that facilitates operations on collections, enabling efficient and secure management of the database. This connection is a fundamental step for applications that need to interact with MongoDB for dynamic data processing."]}),"\n",(0,o.jsx)(t.h3,{id:"9-delete-many-into-mongodb",children:"9. Delete many into Mongodb"}),"\n",(0,o.jsxs)(t.p,{children:["Performing an arbitrary delete action based on a query and storing its result in a variable involves executing a user-defined ",(0,o.jsx)(t.code,{children:"DELETE"})," operation in a database to remove records that meet specific conditions and capturing the result for validation or further use."]}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"DELETE"})," query specifies the target table and the conditions for identifying records to be removed, such as ",(0,o.jsx)(t.code,{children:"DELETE FROM orders WHERE status = 'canceled'"}),". Once executed, the database removes the matching records and returns the number of rows affected. This result is then stored in a variable, allowing the application to verify the operation's success or use the value in subsequent processes. For example, if the query affects 3 rows, the variable holds the value ",(0,o.jsx)(t.code,{children:"3"}),", confirming that the intended records were deleted. This action is particularly useful for scenarios requiring dynamic deletions and validation of the changes."]}),"\n",(0,o.jsx)(t.h3,{id:"10-delete-one-into-mongodb",children:"10. Delete one into Mongodb"}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.strong,{children:"delete one"})," action in MongoDB is used to remove a single document from a collection that matches a specified query. This operation ensures that only the first matching document is deleted, even if multiple documents satisfy the query conditions. The user provides a query, such as ",(0,o.jsx)(t.code,{children:'{ "status": "inactive" }'}),", to identify the target document. Upon execution of the ",(0,o.jsx)(t.code,{children:"deleteOne"})," method, MongoDB searches the collection for the first document matching the criteria and deletes it if found. If no matching document exists, no action is taken. The operation returns a result object that includes the number of documents deleted, typically ",(0,o.jsx)(t.code,{children:"1"})," if successful. This result can be used for validation or logging. For example, a ",(0,o.jsx)(t.code,{children:"deleteOne"})," query on a ",(0,o.jsx)(t.code,{children:"users"})," collection with a status filter deletes the first inactive user and confirms the action by reporting the affected document count. This approach ensures controlled and efficient deletion of specific records."]}),"\n",(0,o.jsx)(t.h3,{id:"11-find-from-mongodb",children:"11. Find from Mongodb"}),"\n",(0,o.jsx)(t.p,{children:"Performing a finding action and storing its result in a variable involves executing a query to retrieve documents from a database that match specified conditions and saving the result for further use. This action is essential for retrieving data dynamically based on application needs."}),"\n",(0,o.jsxs)(t.p,{children:["The query specifies the criteria for selecting records, such as ",(0,o.jsx)(t.code,{children:'{ "status": "active" }'}),", and can also include options to limit the fields returned or sort the results. The database processes the query and returns all matching documents, which are stored in a variable. This variable acts as a container for the retrieved data and can hold a single record, multiple records, or an empty result set if no matches are found. The stored data can then be used for display, analysis, or additional operations. For instance, querying a ",(0,o.jsx)(t.code,{children:"users"})," collection for active users might return a list of documents that is saved in a variable for rendering in an application or processing business logic. This action ensures efficient access to relevant data in real-time scenarios."]}),"\n",(0,o.jsx)(t.h3,{id:"12-find-one-from-mongodb",children:"12. Find one from Mongodb"}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"findOne"})," operation in MongoDB retrieves the first document from a collection that matches a specified query filter. It is efficient because it stops searching after after finding the first match, making it ideal when only one document is needed. The method accepts a query filter to define the search criteria and an optional projection to include or exclude specific fields in the result. For example, ",(0,o.jsx)(t.code,{children:'db.users.findOne({ name: "John" })'})," fetches the first document where the ",(0,o.jsx)(t.code,{children:"name"})," is ",(0,o.jsx)(t.code,{children:'"John"'}),". Common use cases include fetching user profiles, retrieving configuration settings, or verifying the existence of a document."]}),"\n",(0,o.jsx)(t.h3,{id:"13-insert-many-into-mongodb",children:"13. Insert many into Mongodb"}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"insertMany"})," operation in MongoDB allows multiple documents to be inserted into a collection in a single operation, making it efficient for batch processing. It accepts an array of documents to be inserted, and if any document lacks the ",(0,o.jsx)(t.code,{children:"_id"})," field, MongoDB automatically assigns a unique identifier. By default, the insertion is ordered, meaning MongoDB stops at the first error encountered, but this behavior can be changed by setting the ",(0,o.jsx)(t.code,{children:"ordered"})," option to ",(0,o.jsx)(t.code,{children:"false"}),", allowing the process to continue despite errors. For instance, to add multiple users, ",(0,o.jsx)(t.code,{children:'db.users.insertMany([{ name: "Alice", age: 25}, { name: "Bob", age: 30}])'}),"can be used. This method is particularly useful for bulk loading data, adding multiple records efficiently, or initializing a database with predefined data. The ",(0,o.jsx)(t.code,{children:"insertMany"})," operation reduces overhead and ensures all valid documents are inserted in one batch."]}),"\n",(0,o.jsx)(t.h3,{id:"14-insert-one-into-mongodb",children:"14. Insert one into Mongodb"}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"insertOne"})," operation in MongoDB is used to insert a single document into a collection, making it ideal for adding one record at a time. If the document does not include the ",(0,o.jsx)(t.code,{children:"_id"})," field, MongoDB automatically assigns a unique identifier. The method returns a result object containing the inserted document's ",(0,o.jsx)(t.code,{children:"_id"})," for reference. For example, using ",(0,o.jsx)(t.code,{children:'db.users.insertOne({ name: "John", age: 30})'})," adds a document to the ",(0,o.jsx)(t.code,{children:"users"})," collection and generates an ",(0,o.jsx)(t.code,{children:"_id"})," if not provided. This operation is commonly used for tasks like adding a new user profile, inserting product details, or creating entries during development and testing. The ",(0,o.jsx)(t.code,{children:"insertOne"})," method ensures reliable insertion with minimal complexity."]}),"\n",(0,o.jsx)(t.h3,{id:"15-update-many-into-mongodb",children:"15. Update many into Mongodb"}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"updateMany"})," operation in MongoDB modifies multiple documents within a collection that match a specified filter, making it ideal for bulk updates. It requires a filter to identify target documents and an update parameter using operators like ",(0,o.jsx)(t.code,{children:"$set"}),", ",(0,o.jsx)(t.code,{children:"$inc"}),", or ",(0,o.jsx)(t.code,{children:"$unset"})," to define the changes. For instance, ",(0,o.jsx)(t.code,{children:'db.users.updateMany({ age: { $gt: 25} }, { $set: { status: "active"} })'})," updates all users whose age is greater than 25, setting their ",(0,o.jsx)(t.code,{children:"status"})," field to ",(0,o.jsx)(t.code,{children:"active"}),". This operation returns details about the number of matched and modified documents and supports options like ",(0,o.jsx)(t.code,{children:"upsert"})," to insert a document if no matches are found. The ",(0,o.jsx)(t.code,{children:"updateMany"})," method is an efficient way to apply changes to multiple documents in a single execution, making it valuable for tasks like bulk data updates or standardizing records."]}),"\n",(0,o.jsx)(t.h3,{id:"16-update-one-into-mongodb",children:"16. Update one into Mongodb"}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"updateOne"})," operation in MongoDB modifies a single document in a collection that matches a specified filter, making it ideal for precise updates. It updates only the first matching document, even if multiple documents meet the criteria. The operation requires a filter to identify the target document and an update parameter using operators like ",(0,o.jsx)(t.code,{children:"$set"}),", ",(0,o.jsx)(t.code,{children:"$inc"}),", or ",(0,o.jsx)(t.code,{children:"$unset"})," to define the changes. For example, ",(0,o.jsx)(t.code,{children:'db.users.updateOne({ age: { $gt: 25 } }, { $set: { status: "active" } })'})," updates the ",(0,o.jsx)(t.code,{children:"status"})," field to ",(0,o.jsx)(t.code,{children:'"active"'})," for the first user with an ",(0,o.jsx)(t.code,{children:"age"})," greater than 25. It also returns information about whether a document was matched and modified and supports options like ",(0,o.jsx)(t.code,{children:"upsert"})," to insert a document if no match is found. The ",(0,o.jsx)(t.code,{children:"updateOne"})," method is efficient for targeted updates, making it suitable for tasks like updating specific user profiles or modifying single configuration settings."]})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var i=n(96540);const o={},a=i.createContext(o);function s(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(a.Provider,{value:t},e.children)}}}]);
"use strict";(self.webpackChunkzeuz_docs=self.webpackChunkzeuz_docs||[]).push([[7119],{15775:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"zeuz-node/data-collector","title":"Data Collector","description":"Data collector is a very powerful feature that allows you to collect","source":"@site/docs/zeuz-node/data-collector.md","sourceDirName":"zeuz-node","slug":"/zeuz-node/data-collector","permalink":"/docs/zeuz-node/data-collector","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"data-collector","title":"Data Collector"},"sidebar":"docsSidebar","previous":{"title":"Condition (if else)","permalink":"/docs/zeuz-node/condition"},"next":{"title":"Element Detection","permalink":"/docs/zeuz-node/element-detection"}}');var o=t(74848),a=t(28453);const l={id:"data-collector",title:"Data Collector"},s=void 0,i={},c=[];function d(e){const n={code:"code",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Data collector is a very powerful feature that allows you to collect\ndata from complex and nested structured data. This feature reduces the\nnumber of actions that you have to write in order to access and save\nnested data to only a single action, whereas, this would otherwise\ntake around 10-20 actions in general."}),"\n",(0,o.jsxs)(n.p,{children:["Let's go through a simple example to understand how this works. We're\nassuming that the following data is saved in the variable ",(0,o.jsx)(n.code,{children:"%|data|%"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'[\n    {\n        "error1": {\n            "type": "Runtime Error",\n            "occurrence": [\n                {"line": 10, "message": "fail"},\n                {"line": 20, "message": "block"},\n            ],\n        },\n        "error2": {\n            "type": "Compiler Error",\n            "occurrence": [\n                {"line": 50, "message": "fail"},\n                {"line": 64, "message": "xyz"},\n                {"line": 70, "message": "pqr"},\n            ],\n        },\n        "1error": {\n            "type": "Runtime Error",\n            "occurrence": [\n                {"line": 100, "message": "fail"},\n                {"line": 200, "message": "block"},\n            ],\n        },\n        "2error": {\n            "type": "Compiler Error",\n            "occurrence": [\n                {"line": 500, "message": "fail"},\n                {"line": 640, "message": "xyz"},\n                {"line": 700, "message": "pqr"},\n            ],\n        },\n    },\n    {\n        "bug": {\n            "type": "Brain malfunctioned",\n            "occurrence": [\n                {"line": 150, "message": "abort!"},\n                {"line": 23, "message": "shutdown"},\n            ],\n        },\n        "error": {\n            "type": "Computer crashed",\n            "occurrence": [\n                {"line": 341, "message": "blocked"},\n                {"line": 4, "message": "blocked"},\n                {"line": 74, "message": "math error"},\n            ],\n        },\n    }\n]\n'})}),"\n",(0,o.jsx)(n.p,{children:"Let's say we only want to collect line numbers. You have to specify\nthe following pattern and it'll give you all the line numbers in a\nlist."}),"\n",(0,o.jsx)(n.p,{children:"Pattern:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Pattern\n%|data{_all_, _all_, occurrence, _all_, line}|%\n\n# Output\n[10, 20, 50, 64, 70, 100, 200, 500, 640, 700, 150, 23, 341, 4, 74]\n"})}),"\n",(0,o.jsx)(n.p,{children:"There are a few things to note here:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Patterns are specified when accessing a variable."}),"\n",(0,o.jsxs)(n.li,{children:["Patterns are defined inside curly braces after the variable name.\nNo spaces allowed. Multiple sets of curly braces ",(0,o.jsx)(n.code,{children:"{patter 1}{pattern 2}..."})," can be specified without any spaces (see example\nat the end)."]}),"\n",(0,o.jsx)(n.li,{children:"Items in the pattern are comma-separated."}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"_all_"})," as described in the next paragraphs, signals to ZeuZ Node\nto loop through all the values in the list/dictionary."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["What's ",(0,o.jsx)(n.code,{children:"_all_"}),"? By putting the ",(0,o.jsx)(n.code,{children:"_all_"})," property you're essentially\nasking the collector to loop through any items (be it a list or a\ndictionary). The first ",(0,o.jsx)(n.code,{children:"_all_"})," loops through the first level of items\n(two dictionaries in this case) inside the root list. The second\n",(0,o.jsx)(n.code,{children:"_all_"})," loops through the ",(0,o.jsx)(n.strong,{children:"values"})," of the dictionaries (ignoring the\ndictionary keys). Next, we're asking for the ",(0,o.jsx)(n.code,{children:"occurrence"})," items which\nare present inside each of the dictionaries at the third level. Notice\nthat, ",(0,o.jsx)(n.code,{children:"occurrence"})," itself is yet another list. So, we loop through\n",(0,o.jsx)(n.code,{children:"_all_"})," the items inside it. And lastly, we collect ",(0,o.jsx)(n.code,{children:"line"}),". Done!"]}),"\n",(0,o.jsx)(n.p,{children:"Let's see a few more patterns and their outputs:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"%|data{_all_, _all_, type}|%\n# Output of pattern 1\n['Runtime Error', 'Compiler Error', 'Runtime Error', 'Compiler Error', 'Brain malfunctioned', 'Computer crashed']\n\n%|data{_all_, *error, type}|%\n# Output of pattern 2\n['Runtime Error', 'Compiler Error', 'Computer crashed']\n\n%|data{_all_, error*, occurrence, _all_, line}|%\n# Output of pattern_3\n[10, 20, 50, 64, 70, 341, 4, 74]\n\n%|data{1, bug, occurrence, 1, message}|%\n# Output of pattern 4\n'shutdown'\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Notice that you can specify partial names for dictionary keys using\n",(0,o.jsx)(n.code,{children:"*"})," before or after a name. In the case of ",(0,o.jsx)(n.strong,{children:"pattern 2"}),', we wanted\nall errors ending with the word "error". So the pattern is ',(0,o.jsx)(n.code,{children:"*error"}),".\nIn case of ",(0,o.jsx)(n.strong,{children:"pattern 3"}),' we wanted all errors starting with the word\n"error", so the pattern is ',(0,o.jsx)(n.code,{children:"error*"}),".You can access to specific data using the index value in data-collector like ",(0,o.jsx)(n.strong,{children:"pattern 4"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["You can also zip together multiple collected items using the syntax\n",(0,o.jsx)(n.code,{children:"%|data{pattern_1}{pattern_2}|%"}),". For example:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'%|data{_all_, _all_, occurrence, _all_, line}{all_, _all_, occurrence, _all_, message}|%\n\n# Output\n[\n    (10, "fail"),\n    (20, "block"),\n    (50, "fail"),\n    (64, "xyz"),\n    (70, "pqr"),\n    (100, "fail"),\n    (200, "block"),\n    (500, "fail"),\n    (640, "xyz"),\n    (700, "pqr"),\n    (150, "abort!"),\n    (23, "shutdown"),\n    (341, "blocked"),\n    (4, "blocked"),\n    (74, "math error")\n]\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Key collector"})}),"\n",(0,o.jsx)(n.p,{children:"Key collector collects all the values of  specific key from the data .Sometimes data can be\nso nested or complex that you have to access into so many elements to get the value of your specific key.\nKey collector tool can handle this quite easily.You have to just pass the key name into round bracket along\nwith data name."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:" #pattern 1\n %|data(line)|%\n # Output\n {'line': [10, 20, 50, 64, 70, 100, 200, 500, 640, 700]}\n \n #pattern 2\n %|data(line, message)|%\n # Output\n {'line': [10, 20, 50, 64, 70, 100, 200, 500, 640, 700], 'message': ['fail', 'block', 'fail', 'xyz', 'pqr', 'fail', 'block', 'fail', 'xyz', 'pqr']}\n \n #pattern3\n %|data(line)(message, type)|% \n # Output\n [{'line': [10, 20, 50, 64, 70, 100, 200, 500, 640, 700]}, {'message': ['fail', 'block', 'fail', 'xyz', 'pqr', 'fail', 'block', 'fail', 'xyz', 'pqr'], 'type': ['Runtime Error', 'Compiler Error', 'Runtime Error', 'Compiler Error']}]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Key collector will extract all the value of the given key from all over the data. You can also\nuse multiple keys in key collector like ",(0,o.jsx)(n.strong,{children:"pattern 2"})," & ",(0,o.jsx)(n.strong,{children:"pattern 3"})," above."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>s});var r=t(96540);const o={},a=r.createContext(o);function l(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkzeuz_docs=self.webpackChunkzeuz_docs||[]).push([[6162],{2655:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/image-1-0d04967027aec5b52992b30d2c560495.png"},28453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>l});var i=n(96540);const r={},a=i.createContext(r);function t(e){const s=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(a.Provider,{value:s},e.children)}},65796:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/image-2-223dbd3126b1330cb3658e40588dcb7c.png"},88734:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"zeuz-node/actions/web/save-and-read-mail-action","title":"Save and Read Mail Action","description":"Description","source":"@site/docs/zeuz-node/actions/web/save-and-read-mail-action.md","sourceDirName":"zeuz-node/actions/web","slug":"/zeuz-node/actions/web/save-and-read-mail-action","permalink":"/docs/zeuz-node/actions/web/save-and-read-mail-action","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"save-and-read-mail-action","title":"Save and Read Mail Action"},"sidebar":"docsSidebar","previous":{"title":"Save and Get Element","permalink":"/docs/zeuz-node/actions/web/save-and-get-element"},"next":{"title":"Save Attribute Value","permalink":"/docs/zeuz-node/actions/web/save-attribute-value"}}');var r=n(74848),a=n(28453);const t={id:"save-and-read-mail-action",title:"Save and Read Mail Action"},l=void 0,c={},o=[{value:"Description",id:"description",level:2},{value:"Image 1: <strong>Gmail Settings - Forwarding and POP/IMAP</strong>",id:"image-1-gmail-settings---forwarding-and-popimap",level:2},{value:"Image 2: <strong>App Passwords - Google Account</strong>",id:"image-2-app-passwords---google-account",level:2},{value:"<strong>Action Configuration of Save and Read Email Action - Technical Documentation</strong>",id:"action-configuration-of-save-and-read-email-action---technical-documentation",level:2}];function d(e){const s={admonition:"admonition",br:"br",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"description",children:"Description"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:n(2655).A+"",width:"1468",height:"776"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:n(65796).A+"",width:"1178",height:"731"})}),"\n",(0,r.jsxs)(s.p,{children:["The two images provide information on enabling ",(0,r.jsx)(s.strong,{children:"IMAP/POP"})," access in Gmail and setting up app passwords, which are necessary for secure access to Gmail from external applications."]}),"\n",(0,r.jsxs)(s.h2,{id:"image-1-gmail-settings---forwarding-and-popimap",children:["Image 1: ",(0,r.jsx)(s.strong,{children:"Gmail Settings - Forwarding and POP/IMAP"})]}),"\n",(0,r.jsxs)(s.p,{children:["This image shows the ",(0,r.jsx)(s.strong,{children:"Forwarding and POP/IMAP"})," settings in Gmail:"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Forwarding"}),': Users can add a forwarding address to automatically send incoming emails to another email address. This feature is configured by clicking "Add a forwarding address".']}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"POP Download"}),":"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Status"}),": The POP status shows as enabled, meaning the user can download emails using the POP protocol."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Options"}),":","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Enable POP for all mail"}),": Downloads all emails, including those already accessed."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Enable POP for mail that arrives from now on"}),": Downloads only new emails received after enabling POP."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Disable POP"}),": Turns off POP access."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Message Handling"}),": Users can choose what Gmail should do with messages accessed via POP, such as keeping a copy in the Inbox or marking them as read."]}),"\n"]}),"\n",(0,r.jsxs)(s.ol,{start:"3",children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"IMAP Access"}),":"]}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Status"}),": IMAP is enabled, allowing access from other clients."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Options"}),":","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Enable IMAP"}),": Enables IMAP access for syncing emails across multiple devices."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Disable IMAP"}),": Turns off IMAP access."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Auto-Expunge Settings"}),": Controls whether deleted messages are immediately updated on the server or held until the client initiates the update."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Deleted Messages Handling"}),": Options include archiving, moving to Trash, or permanently deleting messages that are marked as deleted."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"These settings are essential for configuring email clients and third-party apps to interact with Gmail through POP or IMAP protocols."}),"\n",(0,r.jsxs)(s.h2,{id:"image-2-app-passwords---google-account",children:["Image 2: ",(0,r.jsx)(s.strong,{children:"App Passwords - Google Account"})]}),"\n",(0,r.jsxs)(s.p,{children:["This image shows the ",(0,r.jsx)(s.strong,{children:"App Passwords"})," section in a Google account, used when two-factor authentication (2FA) is enabled:"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"App Passwords List"}),': The user has created multiple app-specific passwords for different applications, such as, "bbtest", "test new", and "mail". Each entry shows when the app password was created and last used. These passwords allow access to Gmail without needing the primary account password, adding a layer of security.']}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Creating a New App Password"}),":"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:'Users can enter a custom name for a new app-specific password in the "App name" field. After naming it and clicking "Create", a unique password is generated, which can then be used in email clients or third-party applications.'}),"\n"]}),"\n",(0,r.jsxs)(s.ol,{start:"3",children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"App Password Usage"}),": App passwords are useful when using third-party applications that require access to Gmail, especially when two-factor authentication is enabled, as they provide a way to grant access without compromising the main account credentials."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"However, the following images collectively guide users through enabling IMAP for Gmail access and generating app passwords for secure access by external applications, especially when 2FA is active."}),"\n",(0,r.jsx)(s.h2,{id:"action-configuration-of-save-and-read-email-action---technical-documentation",children:(0,r.jsx)(s.strong,{children:"Action Configuration of Save and Read Email Action - Technical Documentation"})}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.strong,{children:"Save and Read Email Action"})," is used to connect to an email account via the IMAP protocol, retrieve specific emails based on various filters, and save essential email elements into a variable for further use. This document provides detailed instructions on configuring and using this action effectively."]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Description"}),(0,r.jsx)(s.br,{}),"\n","This action allows users to read and save emails by specifying various criteria for filtering. It requires certain parameters, such as host, username, password, and sorting criteria. The action can return emails based on factors like date, read/unread status, flagged status, sender, and more. Users can access specific components of each email, such as the sender, receiver, subject, date, text body, and HTML content, by specifying them within a variable."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Required Configuration Parameters"}),(0,r.jsx)(s.br,{}),"\n","To properly execute this action, the following input parameters are mendatory:"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"IMAP Host"}),": The hostname of the IMAP server. Example for Gmail: ",(0,r.jsx)(s.code,{children:"imap.gmail.com"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"IMAP Username"}),": The email address from which to retrieve emails."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"IMAP Password"}),": Password for the email account. If two-factor authentication (2FA) is enabled, an app-specific password is required."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Inbox"}),": The specific mailbox to check for emails, typically set to ",(0,r.jsx)(s.code,{children:'"INBOX"'}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.ol,{start:"3",children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Sorting Parameters"}),(0,r.jsx)(s.br,{}),"\n","This action allows for multiple sorting criteria to fetch specific emails. Below are the various options available for filtering emails:"]}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Subject"}),": Sort by email subject. Provide the subject keyword here."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Text"}),": Sort by email body content. Specify a keyword or phrase within the email body."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Sender Email"}),": Sort by the sender's email address."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Receiver Email"}),": Sort by the receiver's email address."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Flagged Email"}),": Set to ",(0,r.jsx)(s.code,{children:'"true"'})," to fetch emails marked as flagged (favourites), or ",(0,r.jsx)(s.code,{children:'"false"'})," for non-flagged emails."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Checked Email (Seen/Unseen)"}),": Set to ",(0,r.jsx)(s.code,{children:'"true"'})," to fetch emails that have been read, or ",(0,r.jsx)(s.code,{children:'"false"'})," for unread emails."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Exact Date"}),": Filter emails sent on a specific date. Use the format ",(0,r.jsx)(s.code,{children:"YYYY-M-D"})," (e.g., ",(0,r.jsx)(s.code,{children:"2021-6-12"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"After Date"}),": Filter emails sent after a specific date. Use the format ",(0,r.jsx)(s.code,{children:"YYYY-M-D"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Before Date"}),": Filter emails sent before a specific date. Use the format ",(0,r.jsx)(s.code,{children:"YYYY-M-D"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:'For date parameters, do not use "01" or "02" for month and day; instead, use "1" or "2"'})}),"\n",(0,r.jsxs)(s.ol,{start:"4",children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"Optional Parameters"})}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Wait"}),": Specifies a wait time in seconds. This parameter allows the system to wait for at least one email to be received, ensuring that the action retrieves at least one email when executed."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Attachment Directory"}),": Defines the directory path where attachments will be saved. By default, it is set to ",(0,r.jsx)(s.code,{children:"%|zeuz_download_folder|%\\email_attachments"}),", but users can specify a different folder if needed."]}),"\n"]}),"\n",(0,r.jsxs)(s.ol,{start:"5",children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Data Extraction"}),"\nThe following email components are extracted and saved into a variable for later use:"]}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Sender"}),": The email address of the sender."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Receiver"}),": The receipent's email address."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Subject"}),": The email subject line."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Date"}),": The date the email was sent."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Text"}),": The plain text body of the email."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"htmlBody"}),": The HTML content of the email."]}),"\n"]}),"\n",(0,r.jsxs)(s.ol,{start:"6",children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Accessing Saved Data"}),'\nTo access any of the extracted email components, users should reference the saved variable with the specific component name. For example, if the variable is named "save", the syntax would look like this:']}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Subject"}),": ",(0,r.jsx)(s.code,{children:'%|save["Subject"]|%'})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Sender"}),": ",(0,r.jsx)(s.code,{children:'%|save["Sender"]|%'})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Text"}),": ",(0,r.jsx)(s.code,{children:'%|save["Text"]|%'})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Date"}),": ",(0,r.jsx)(s.code,{children:'%|save["Date"]|%'})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Receiver"}),": ",(0,r.jsx)(s.code,{children:'%|save["Receiver"]|%'})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"HTML Body"}),": ",(0,r.jsx)(s.code,{children:'%|save["htmlBody"]|%'}),(0,r.jsx)(s.br,{}),"\n","If a specific component contains multiple values (e.g., if multiple emails match the criteria), use indexing to access each element individually:"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"First Subject"}),": ",(0,r.jsx)(s.code,{children:'%|save["Subject"][1]|%'})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Second Subject"}),": ",(0,r.jsx)(s.code,{children:'%|save["Subject"][2]|%'})]}),"\n"]}),"\n",(0,r.jsxs)(s.ol,{start:"7",children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Example Configuration"}),"\nBelow is an example configuration for the ",(0,r.jsx)(s.strong,{children:"Save and Read Email Action"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Input Parameters"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"IMAP Host"}),": ",(0,r.jsx)(s.code,{children:"imap.gmail.com"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"IMAP Username"}),": ",(0,r.jsx)(s.code,{children:"user@example.com"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"IMAP Password"}),": ",(0,r.jsx)(s.code,{children:"app-specific-password"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Inbox"}),": ",(0,r.jsx)(s.code,{children:"INBOX"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Subject"}),": ",(0,r.jsx)(s.code,{children:"Invoice"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Sender Email"}),": ",(0,r.jsx)(s.code,{children:"notifications@company.com"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Checked Email"}),": ",(0,r.jsx)(s.code,{children:"false"})," (to fetch only unread emails)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Before Date"}),": ",(0,r.jsx)(s.code,{children:"2023-10-1"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"After Date"}),": ",(0,r.jsx)(s.code,{children:"2023-9-1"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Attachment Directory"}),": ",(0,r.jsx)(s.code,{children:"c:\\Email_Attachments\\"})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Output Variable"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Save Mail"}),": Variable name for saving email data, e.g., ",(0,r.jsx)(s.code,{children:"Variable_1"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Access Saved Data"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Retrieve the Subject"}),": ",(0,r.jsx)(s.code,{children:'%|Variable_1["Subject"]|%'})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Retrieve Sender's Email"}),": ",(0,r.jsx)(s.code,{children:'%|Variable_1["Sender"]|%'})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Retrieve Email Body"}),": ",(0,r.jsx)(s.code,{children:'%|Variable_1["Text"]|%'})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Retrieve Date"}),": ",(0,r.jsx)(s.code,{children:'%|Variable_1["Date"]|%'})]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["This setup would connect to Gmail, filter for unread emails from ",(0,r.jsx)(s.code,{children:"notifications@company.com"}),' with "Invoice" in the subject, sent within the specified date range. It would save relevant details, which can be accessed through the specified variable.']})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);